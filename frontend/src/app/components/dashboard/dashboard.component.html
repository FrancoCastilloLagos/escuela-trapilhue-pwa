<div class="dashboard-wrapper" (click)="menuOpen = false; notifOpen = false">
  <header class="header-main">
    <div class="logo-wrapper">
      <div class="logo-white-bg">
        <img src="assets/logo-escuela.png" alt="Logo Escuela" class="img-logo">
      </div>
    </div>
    
    <div class="user-profile-pill">
      <div class="notification-wrapper" *ngIf="!esDocente">
        <button class="notif-trigger" (click)="toggleNotifications($event)">
          <span class="bell-icon">üîî</span>
          <span class="notif-badge" *ngIf="unreadCount > 0">{{ unreadCount }}</span>
        </button>
        
        <div class="notif-dropdown" *ngIf="notifOpen" (click)="$event.stopPropagation()">
          <div class="notif-header">NOTIFICACIONES</div>
          <div class="notif-list">
            <div *ngIf="listaNotificaciones.length === 0" class="no-notif" style="padding: 15px; text-align: center; font-size: 0.8rem; color: #999;">Sin avisos nuevos</div>
            <div class="notif-item" *ngFor="let n of listaNotificaciones" [class.unread]="!n.leida">
              <div class="notif-indicator" [attr.data-type]="n.tipo"></div>
              <div class="notif-body">
                <span class="notif-t">{{ n.titulo }}</span>
                <span class="notif-m">{{ n.mensaje }}</span>
                <span class="notif-f">{{ n.fecha | date:'dd/MM HH:mm' }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <span class="user-info">{{ userRol }}: {{ userName }}</span>

      <button class="menu-trigger" (click)="toggleMenu($event)">
        <span class="dot"></span><span class="dot"></span><span class="dot"></span>
      </button>
      
      <div class="dropdown-floating-menu" *ngIf="menuOpen" (click)="$event.stopPropagation()">
        <button class="dropdown-item" (click)="irAConfig()">‚öôÔ∏è Configuraci√≥n</button>
        <div style="height: 1px; background: #eee; margin: 5px 0;"></div>
        <button class="dropdown-item" (click)="cerrarSesion()">üö™ Cerrar sesi√≥n</button>
      </div>
    </div>
  </header>

  <nav class="central-nav" style="margin-top: 85px; display: flex; justify-content: center;">
    <div class="nav-container" style="display: flex; gap: 10px; flex-wrap: wrap; justify-content: center;">
      <button class="nav-btn" (click)="irANotas()">NOTAS</button>
      <button class="nav-btn" (click)="irAAnotaciones()">ANOTACIONES</button>
      <button class="nav-btn" (click)="irAFechas()">FECHAS EVALUACIONES</button>
      <button class="nav-btn" (click)="irARendimiento()">RENDIMIENTO</button>
    </div>
  </nav>

  <main class="dashboard-body" style="width: 100%; max-width: 1200px; margin: 40px auto; padding: 0 20px;">
    <div class="layout-container" style="display: grid; grid-template-columns: 300px 1fr; gap: 30px; align-items: start;">
        
        <aside class="sidebar-info">
          <div class="glass-card" style="background: #002d40; border-radius: 25px; padding: 25px; color: white; text-align: center;">
            <h3 class="sidebar-title" style="font-size: 1rem; margin-bottom: 20px;">CANALES DE COMUNICACI√ìN</h3>
            <div class="social-actions">
              <button class="action-btn purple-grad" 
                style="background: linear-gradient(90deg, #a569bd, #8e44ad); border: none; padding: 14px; border-radius: 15px; color: white; font-weight: bold; width: 100%; margin-bottom: 12px; cursor: pointer; transition: transform 0.3s ease, box-shadow 0.3s ease;"
                onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 10px 20px rgba(165,105,189,0.4)'"
                onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='none'">
                üìû TEL√âFONO
              </button>

              <button class="action-btn green-grad" 
                style="background: linear-gradient(90deg, #58d68d, #28b463); border: none; padding: 14px; border-radius: 15px; color: white; font-weight: bold; width: 100%; margin-bottom: 12px; cursor: pointer; transition: transform 0.3s ease, box-shadow 0.3s ease;"
                onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 10px 20px rgba(88,214,141,0.4)'"
                onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='none'">
                üí¨ WHATSAPP
              </button>

              <button class="action-btn blue-grad" 
                style="background: linear-gradient(90deg, #5dade2, #2e86c1); border: none; padding: 14px; border-radius: 15px; color: white; font-weight: bold; width: 100%; cursor: pointer; transition: transform 0.3s ease, box-shadow 0.3s ease;"
                onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 10px 20px rgba(93,173,226,0.4)'"
                onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='none'">
                üë§ FACEBOOK
              </button>
            </div>
          </div>
        </aside>
  
        <section class="news-section" style="display: flex; flex-direction: column; align-items: center;">
          <div class="news-header-badge" style="background: #17a2b8; color: white; padding: 10px 80px; border-radius: 20px; font-weight: 800; font-size: 2rem; z-index: 2; margin-bottom: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.15); position: relative;">NOVEDADES</div>
          
          <div class="news-display-card" style="background: white; border-radius: 35px; overflow: hidden; box-shadow: 0 15px 40px rgba(0,0,0,0.1); border: 8px solid white; width: 100%;">
            <div class="image-zoom-container" style="width: 100%; background: #222; display: flex; justify-content: center; align-items: center; overflow: hidden;">
              <img src="assets/ninos-jugando.jpg" alt="Actualidad escolar" class="news-visual" style="width: 100%; max-height: 500px; object-fit: contain;">
            </div>
            <div class="news-caption" style="padding: 15px; text-align: center; color: #555;">
              <span>Actualidad Escuela Trapilhue ‚Ä¢ 2026</span>
            </div>
          </div>
        </section>
      </div>
  </main>

  <footer class="minimal-footer" style="background: #e67e22; color: white; text-align: center; padding: 15px; margin-top: auto;">
    <p>Copyright ¬© 2026 | KALINK DISE√ëOS</p>
  </footer>
</div>