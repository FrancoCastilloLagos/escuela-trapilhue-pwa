/* --- NOTIFICACIONES: FIX DEFINITIVO PARA MÓVIL --- */
.notification-wrapper { 
  position: relative; 
  display: flex; 
  align-items: center; 
}

.notif-trigger { 
  background: transparent; border: none; cursor: pointer; padding: 0; 
  display: flex; align-items: center; position: relative;
}

.bell-icon { font-size: 1.5rem; }

.notif-badge { 
  position: absolute; top: -5px; right: -8px; background: #ff4757; color: white; 
  font-size: 10px; min-width: 18px; height: 18px; border-radius: 50%; 
  display: flex; align-items: center; justify-content: center; font-weight: bold;
}

/* Estilo para PC */
.notif-dropdown { 
  position: absolute; 
  top: 55px; 
  right: -50px; 
  width: 350px; 
  background: white; 
  border-radius: 15px; 
  box-shadow: 0 10px 30px rgba(0,0,0,0.3); 
  z-index: 9999; 
  overflow: hidden;
  border: 1px solid #ddd;
}

.notif-header { background: #002d40; color: white; padding: 12px; text-align: center; font-weight: 700; }
.notif-list { max-height: 400px; overflow-y: auto; background: white; }

.notif-item { 
  display: flex; border-bottom: 1px solid #eee; min-height: 80px; width: 100%; 
  background: white; color: #333;
}
.notif-item.unread { background: #f0faff; }

.notif-indicator { width: 8px; flex-shrink: 0; }
.notif-indicator[data-type="anotacion"] { background-color: #f7a0f2; } 
.notif-indicator[data-type="nota"] { background-color: #2ecc71; }      
.notif-indicator[data-type="riesgo"] { background-color: #e74c3c; }     

.notif-body { padding: 10px; display: flex; flex-direction: column; flex-grow: 1; }
.notif-t { font-weight: 700; font-size: 0.9rem; color: #111; }
.notif-m { font-size: 0.85rem; color: #444; margin: 2px 0; }
.notif-f { font-size: 0.75rem; color: #888; }

/* --- AJUSTE PARA MÓVIL (AQUÍ ESTÁ EL TRUCO) --- */
@media (max-width: 768px) {
  .notif-dropdown { 
    position: fixed !important; /* Lo despegamos del header */
    top: 100px !important;      /* Lo bajamos un poco del logo */
    left: 5% !important;        /* Margen izquierdo */
    right: 5% !important;       /* Margen derecho */
    width: 90% !important;      /* Que ocupe casi todo el ancho */
    max-width: none !important; 
    transform: none !important;
    box-shadow: 0 20px 50px rgba(0,0,0,0.5) !important;
  }

  .notif-list {
    max-height: 60vh; /* Que no se pase del largo de la pantalla */
  }

  .user-profile-pill {
    position: relative !important;
    width: 95% !important;
    right: auto !important;
    margin: 10px auto !important;
  }
}

/* Resto de estilos del dashboard se mantienen igual... */
.dashboard-wrapper { background-color: #85c1e9; min-height: 100vh; display: flex; flex-direction: column; font-family: 'Poppins', sans-serif; }
.header-main { width: 100%; background: linear-gradient(180deg, #f1c40f, #e67e22); min-height: 120px; display: flex; justify-content: center; position: relative; z-index: 1000; border-bottom-left-radius: 40px; border-bottom-right-radius: 40px; }
.header-container { width: 100%; max-width: 1200px; display: flex; justify-content: center; align-items: center; position: relative; padding: 10px; }
.logo-white-bg { background: white; width: 90px; height: 90px; border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 3px solid #002d40; }
.img-logo { width: 70%; object-fit: contain; }
.user-profile-pill { background: #17a2b8; padding: 8px 15px; border-radius: 50px; color: white; display: flex; align-items: center; gap: 10px; position: absolute; right: 20px; }
.menu-trigger { background: transparent; border: none; cursor: pointer; display: flex; gap: 3px; }
.dot { width: 4px; height: 4px; background: white; border-radius: 50%; }
.dropdown-floating-menu { position: absolute; top: 50px; right: 0; width: 180px; background: white; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); z-index: 10000; padding: 5px 0; }
.dropdown-item { width: 100%; padding: 10px; border: none; background: none; text-align: left; cursor: pointer; }